<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>My Chatroom</title>
    </head>
    <body>
        <form id="myForm">
            <input type="text" name="message" value="default" id="myInput">
            <input type="submit" value="send">
        </form>
        <p id="responseText">Chat goes here</p>
    </body>
    
    <script>
        const ws = new WebSocket('ws://localhost:3000/accept-msg');

        ws.onmessage = function(event){
            document.getElementById("responseText").innerText = event.data;
        }

        const myForm = document.forms["myForm"];
        myForm.onsubmit = ((e)=>{
            e.preventDefault();
            const formData = new FormData(myForm);
            ws.send(Object.fromEntries(formData).message);
        });

    </script>
</html>